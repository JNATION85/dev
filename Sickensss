
<!DOCTYPE html>
<html>
	<head>
    	<meta charset="utf-8">
    	<meta name="viewport" content="width=device-width, initial-scale=1">
    	<title>Wallet</title>
    		  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700' rel='stylesheet' type='text/css'>
			  <link rel="stylesheet" href="css/styles.css" media="screen">
		      <link rel="stylesheet" href="css/globalStyle.css" /> 


<style type="text/css">
	
	body{
			font-family: 'Open Sans', sans-serif;
			max-width:500px;
			
		}
		p{
			padding: 20px;
		}
		
		.panel-group {
			 /*border: 0;
			 margin: 0;
			 background-color: #960;*/
		}
								
		.panel-default > .panel-heading{
			-moz-border-radius-topleft: 10px;
			-moz-border-radius-topright: 10px;
			-moz-border-radius-bottomright: 0px;
			-moz-border-radius-bottomleft: 0;
			
			-webkit-border-top-left-radius: 10px;
			-webkit-border-top-right-radius: 10px;
			-webkit-border-bottom-right-radius: 0px;
			-webkit-border-bottom-left-radius: 0;
			border-radius: 10px 10px 0px 0px;
			border: 0px;
			color: #FFF;
		}
		
		.panel-body{
			-moz-border-radius-topleft: 0px;
			-moz-border-radius-topright: 0px;
			-moz-border-radius-bottomright: 10px;
			-moz-border-radius-bottomleft: 10px;
			
			-webkit-border-top-left-radius: 0px;
			-webkit-border-top-right-radius: 0px;
			-webkit-border-bottom-right-radius: 10px;
			-webkit-border-bottom-left-radius: 10px;
			border-radius: 0px 0px 10px 10px;
			border: none;
			color: #FFF;
		}
		
	#collapse1, #heading1{
		background-color: #206095;
		color: #fff;
		
	}
	.panel-default > .panel-collapse{
		-moz-border-radius-topleft: 0px;
			-moz-border-radius-topright: 0px;
			-moz-border-radius-bottomright: 10px;
			-moz-border-radius-bottomleft: 10px;
			
			-webkit-border-top-left-radius: 0px;
			-webkit-border-top-right-radius: 0px;
			-webkit-border-bottom-right-radius: 10px;
			-webkit-border-bottom-left-radius: 10px;
		border-radius: 0px 0px 10px 10px;
	}
	
	
	#collapse2, #heading2 {
		background-color: #003C57;
		color: #fff;
	}
	#collapse3, #heading3 {
		background-color: #008080;
		color: #FFF;
	}
	#collapse4, #heading4 {
		background-color: #00A7A3;
		color: #FFF;
	}
	
	.manImg{
		padding-right: 10px;
	}
	.manImgDrop{
		float: right;
	}
	
	.chartsvg{
			padding-left: 10px;
	}
	
</style>

   </head>
    
 <body>
   
   <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
    
    <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="heading1">
        
            <span><h4 class="panel-title">
            <img class="manImg" height="30px" src="images/budgets-squeezed.png"></img>
            
            <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse1" aria-expanded="true" aria-controls="collapse1">Spending is rising while income is falling
            	<img class="manImgDrop" height="20px" src="images/drop.png"></img>
            </a></h4></span>
        </div>
        <div id="collapse1" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="heading1">
            
        </div>
    </div>
    
    
    <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="heading2">
            
             <span><h5 class="panel-title">
            <img class="manImg" height="30px" src="images/savers.png"></img>
            
                <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse2" aria-expanded="true" aria-controls="collapse2">We’ve got little available to save
            <img class="manImgDrop" height="20px" src="images/drop.png"></img>
            </a></h5></span>
        </div>
        <div id="collapse2" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading2">
           
        </div>
    </div>
    
    
    <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="heading3">
            
         <span><h4 class="panel-title">
            <img class="manImg" height="30px" src="images/mortgage.png"></img>
            
                <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse3" aria-expanded="true" aria-controls="collapse3">We’re still making big purchases
            <img class="manImgDrop" height="20px" src="images/drop.png"></img>
            </a></h4></span>
        </div>
        <div id="collapse3" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading3">
            
        </div>
    </div>
    
    
    <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="heading4">
        
            <span><h4 class="panel-title">
            <img class="manImg" height="30px" src="images/short-term.png"></img>
            
                <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse4" aria-expanded="true" aria-controls="collapse4">We’re turning to short-term debt
            <img class="manImgDrop" height="20px" src="images/drop.png"></img>
            </a></h4></span>
            
        </div>
        <div id="collapse4" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading4">
           
        </div>
    </div>
    
</div>

   
    
	<script src="https://cdn.ons.gov.uk/vendor/pym/0.4.2/pym.min.js" type='text/javascript'></script>
	<script src="https://cdn.ons.gov.uk/vendor/d3/3.5.17/d3.min.js" type='text/javascript'></script>
	<script src="https://cdn.ons.gov.uk/vendor/jquery/2.1.4/jquery.min.js" type='text/javascript'></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/bootstrap-slider.js"></script>
 	<script src="js/modernizr.custom.56904.js"></script>
  

	<script>
					var _gaq = _gaq || [];
					_gaq.push(['_setAccount', 'UA-37894017-1']);
					_gaq.push(['_trackPageview']);

					(function() {
					var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
					ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
					var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
					})();
	</script>

	<script>
		
		var card1 = d3.select('#collapse1');
		var card2 = d3.select('#collapse2');
		var card3 = d3.select('#collapse3');
		var card4 = d3.select('#collapse4');
		var pymChild = null;
		
function drawCards(){

		width =	parseInt(card1.style("width"));
		height = width*0.6;
		console.log("size: "+ width);
		
		card1.append('svg').attr("class", "chartsvg").attr('width', width).attr('height', height);	
		
			d3.xml("svg/chartx.svg").mimeType("image/svg+xml").get(function(error, xml) {
			  if (error) throw error;
			 d3.select('#collapse1').select('svg').node().appendChild(xml.documentElement);
			});

		card1.append("p").html(dvc.essential.collapseText[0]);
		
		card2.append('svg').attr("class", "chartsvg").attr('height', height).attr('width', width);		
		
			d3.xml("svg/chart2.svg").mimeType("image/svg+xml").get(function(error, xml) {
			  if (error) throw error;
			  d3.select('#collapse2').select('svg').node().appendChild(xml.documentElement);
			});

		card2.append("p").html(dvc.essential.collapseText[1]);
		
		card3.append('svg').attr("class", "chartsvg").attr('height', height).attr('width', width);		
		
			d3.xml("svg/chart3.svg").mimeType("image/svg+xml").get(function(error, xml) {
			  if (error) throw error;
			  d3.select('#collapse3').select('svg').node().appendChild(xml.documentElement);
			});

		card3.append("p").html(dvc.essential.collapseText[2]);
		
		card4.append('svg').attr("class", "chartsvg").attr('height', height).attr('width', width);		
		
			d3.xml("svg/chart4.svg").mimeType("image/svg+xml").get(function(error, xml) {
			  if (error) throw error;
			  d3.select('#collapse4').select('svg').node().appendChild(xml.documentElement);
			});

		card4.append("p").html(dvc.essential.collapseText[3]);
		
		
		
	
} // ends drawCards




		if (Modernizr.svg) {
		   //load config 
			d3.json("config.json", function(error, config) {
			dvc = config;

				//load chart data
//				d3.csv(dvc.essential.graphic_data_url, function(error, data) {
//					graphic_data = data;
//					
//					graphic_data.forEach(function(d) {
//						d.date = d3.time.format(dvc.essential.dateFormat).parse(d.date); 
//						
//					});
					
					//use pym to create iframed chart dependent on specified variables
					pymChild = new pym.Child({ renderCallback: drawCards});
//				});
			})

		} else {
			 //use pym to create iframe containing fallback image (which is set as default)
			 pymChild = new pym.Child();
			if (pymChild) {
		        pymChild.sendHeight();
		    }
		}

	</script>

</body>
</html>
